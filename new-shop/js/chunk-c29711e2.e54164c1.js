(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c29711e2"],{"0ed1":function(t,e,a){},"10f6":function(t,e,a){"use strict";var n=a("3073"),i=a.n(n);i.a},1393:function(t,e,a){"use strict";var n=a("23e7"),i=a("857a"),r=a("af03");n({target:"String",proto:!0,forced:r("big")},{big:function(){return i(this,"big","","")}})},"29a1":function(t,e,a){},3073:function(t,e,a){},"34a0":function(t,e,a){"use strict";var n=a("ff4f"),i=a.n(n);i.a},"3a60":function(t,e,a){},"3a74":function(t,e,a){},"458f":function(t,e,a){"use strict";var n=a("0ed1"),i=a.n(n);i.a},5319:function(t,e,a){"use strict";var n=a("d784"),i=a("825a"),r=a("7b0b"),c=a("50c4"),s=a("a691"),o=a("1d80"),u=a("8aa5"),l=a("14c3"),d=Math.max,v=Math.min,f=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,p=/\$([$&'`]|\d\d?)/g,g=function(t){return void 0===t?t:String(t)};n("replace",2,(function(t,e,a,n){var m=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,b=n.REPLACE_KEEPS_$0,_=m?"$":"$0";return[function(a,n){var i=o(this),r=void 0==a?void 0:a[t];return void 0!==r?r.call(a,i,n):e.call(String(i),a,n)},function(t,n){if(!m&&b||"string"===typeof n&&-1===n.indexOf(_)){var r=a(e,t,this,n);if(r.done)return r.value}var o=i(t),f=String(this),h="function"===typeof n;h||(n=String(n));var p=o.global;if(p){var $=o.unicode;o.lastIndex=0}var y=[];while(1){var k=l(o,f);if(null===k)break;if(y.push(k),!p)break;var x=String(k[0]);""===x&&(o.lastIndex=u(f,c(o.lastIndex),$))}for(var w="",E=0,P=0;P<y.length;P++){k=y[P];for(var j=String(k[0]),S=d(v(s(k.index),f.length),0),O=[],A=1;A<k.length;A++)O.push(g(k[A]));var I=k.groups;if(h){var U=[j].concat(O,S,f);void 0!==I&&U.push(I);var R=String(n.apply(void 0,U))}else R=C(j,f,S,O,I,n);S>=E&&(w+=f.slice(E,S)+R,E=S+j.length)}return w+f.slice(E)}];function C(t,a,n,i,c,s){var o=n+t.length,u=i.length,l=p;return void 0!==c&&(c=r(c),l=h),e.call(s,l,(function(e,r){var s;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return a.slice(0,n);case"'":return a.slice(o);case"<":s=c[r.slice(1,-1)];break;default:var l=+r;if(0===l)return e;if(l>u){var d=f(l/10);return 0===d?e:d<=u?void 0===i[d-1]?r.charAt(1):i[d-1]+r.charAt(1):e}s=i[l-1]}return void 0===s?"":s}))}}))},5510:function(t,e,a){},8174:function(t,e,a){},"857a":function(t,e,a){var n=a("1d80"),i=/"/g;t.exports=function(t,e,a,r){var c=String(n(t)),s="<"+e;return""!==a&&(s+=" "+a+'="'+String(r).replace(i,"&quot;")+'"'),s+">"+c+"</"+e+">"}},"8b3e":function(t,e,a){"use strict";var n=a("f4f2"),i=a.n(n);i.a},"91a7":function(t,e,a){"use strict";var n=a("d21e"),i=a.n(n);i.a},"9cd3":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"catalog"},[a("v-categories"),a("v-list"),a("v-cart")],1)},i=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"categories"},[t.children.length>0?a("div",{staticClass:"title active",on:{click:function(e){t.active=t.parent}}},[t._v(t._s(t.active.name))]):t.parent?a("div",{staticClass:"title active",on:{click:function(e){t.active=t.grandParent}}},[t._v(t._s(t.parent.name))]):a("div",{staticClass:"title"},[t._v("Категории")]),a("transition-group",{staticClass:"container",attrs:{name:"show"}},t._l(t.categories,(function(e){return a("v-category",{key:e.id,attrs:{category:e,active:!!t.active&&e.id==t.active.id},on:{toggleCategory:function(a){t.active=e}}})})),1)],1)},c=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"category",class:{active:t.active,big:t.big},on:{click:t.toggleCategory}},[t._v(t._s(t.category.name)),a("div",{staticClass:"hidden-text"},[t._v(t._s(t.category.name))])])},o=[],u=(a("b0c0"),a("1393"),a("96cf"),a("1da1")),l={data:function(){return{big:!1}},methods:{toggleCategory:function(){this.$emit("toggleCategory")}},computed:{name:function(){return this.category.name}},watch:{name:{immediate:!0,handler:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$nextTick();case 2:this.$el.querySelector(".hidden-text").offsetWidth>90?this.big=!0:this.big=!1;case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},props:{category:{type:Object},active:{type:Boolean}}},d=l,v=(a("10f6"),a("2877")),f=Object(v["a"])(d,s,o,!1,null,"1459b8a2",null),h=f.exports,p={computed:{active:{get:function(){return this.$store.getters["catalog/categoryActive"]},set:function(t){var e=t?t.id:0;this.active&&this.active.id==e&&(e=this.parent?this.parent.id:0),this.$store.dispatch("catalog/setFilter",{name:"setCategory",payload:e})}},children:function(){return this.active?this.$store.getters["catalog/categoryChildren"](this.active):[]},parent:function(){return this.active?this.$store.getters["catalog/categoryParent"](this.active):null},grandParent:function(){return this.parent?this.$store.getters["catalog/categoryParent"](this.parent):null},siblings:function(){return this.parent?this.$store.getters["catalog/categoryChildren"](this.parent):[]},rootCategories:function(){return this.$store.getters["catalog/categoryChildren"](null)},categories:function(){return this.children.length>0?this.children:this.parent?this.siblings:this.rootCategories}},components:{vCategory:h}},g=p,m=(a("f523"),Object(v["a"])(g,r,c,!1,null,"924282bc",null)),b=m.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list"},[a("v-navbar"),a("div",{staticClass:"products",class:{loading:this.$store.getters["catalog/loading"]}},t._l(t.masonry,(function(e,n){return a("div",{key:n,staticClass:"column"},t._l(e,(function(e){return a("v-product",{key:e,attrs:{product:t.products[e]}})})),1)})),0)],1)},C=[],$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"product",class:{focused:t.focused,added:t.product.cart}},[a("div",{staticClass:"img"},[a("v-icon-avocado")],1),a("div",{staticClass:"name"},[t._v(t._s(t.product.name))]),a("div",{staticClass:"price"},[t._v(t._s(t.product.cart?(t.product.price*t.product.count).toFixed(2):t.product.price)+" руб")]),a("div",{staticClass:"information",on:{click:t.showInformation}},[a("v-icon-information")],1),a("transition",{attrs:{name:"show"}},[t.product.cart?a("v-calculator",{attrs:{product:t.product}}):t._e()],1),a("div",{staticClass:"toggle",on:{click:t.toggleProduct}},[a("v-icon-plus")],1)],1)},y=[],k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"calculator"},[a("div",{staticClass:"minus",class:{disabled:0==t.value},on:{click:function(e){t.value--}}},[a("v-minus-icon")],1),a("div",{staticClass:"value"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],style:{width:t.width+"px"},domProps:{value:t.value},on:{focus:t.focus,blur:t.blur,input:[function(e){e.target.composing||(t.value=e.target.value)},t.input]}}),a("v-package",{attrs:{package:t.product.package,active:t.product.unit},on:{setUnit:t.setUnit}})],1),a("div",{staticClass:"plus",on:{click:function(e){t.value++}}},[a("v-plus-icon")],1),a("div",{staticClass:"hidden-value"},[t._v(t._s(t.value))])])},x=[],w=(a("a15b"),a("ac1f"),a("5319"),a("1276"),a("fae1")),E=a("a11c"),P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.package.length>1?a("div",{staticClass:"units",class:{expand:t.expand},on:{click:function(e){t.expand=!t.expand}}},t._l(t.package,(function(e,n){return a("div",{staticClass:"unit",class:{active:t.active==n},on:{click:function(e){return t.setActive(n)}}},[t._v(t._s(1==e?"":e)+" шт")])})),0):a("div",{staticClass:"units disabled"},[a("div",{staticClass:"unit active"},[t._v(t._s(1==t.package[0]?"":t.package[0])+" шт")])])},j=[],S=(a("a9e3"),{data:function(){return{expand:!1}},props:{package:{type:Array},active:{type:Number}},methods:{setActive:function(t){this.active!=t&&this.$emit("setUnit",t)}}}),O=S,A=(a("dcda"),Object(v["a"])(O,P,j,!1,null,"0e0cd4d5",null)),I=A.exports,U={data:function(t){return{width:0,activeUnit:0}},computed:{value:{get:function(){return this.product.count/this.units},set:function(t){t+="",t=parseInt(t.split(" ").join("").replace(/[^-0-9]/gim,"")||0),t!=this.value&&this.$store.commit("catalog/setProductCount",{product:this.product,count:t*this.units})}},units:{get:function(){return this.product.package[this.product.unit]},set:function(t){this.product.unit=t}}},watch:{value:{immediate:!0,handler:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$nextTick();case 2:this.width=this.$el.querySelector(".hidden-value").offsetWidth;case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},methods:{setUnit:function(t){var e=this.value;this.units=t,this.value=e},focus:function(t){this.$emit("focus")},blur:function(t){this.$emit("blur")},input:function(t){t.target.value=this.value}},props:{product:{type:Object,required:!0}},components:{vPlusIcon:w["a"],vMinusIcon:E["a"],vPackage:I}},R=U,N=(a("34a0"),Object(v["a"])(R,k,x,!1,null,"6e8d4823",null)),T=N.exports,q={data:function(){return{focused:!1}},methods:{showInformation:function(){this.$store.dispatch("ui/setPopup",{name:"product",query:this.product.id})},toggleProduct:function(){this.product.cart?this.$store.commit("catalog/removeProductFromCart",this.product):this.$store.commit("catalog/setProductCount",{product:this.product,count:1})},focus:function(t){this.focused=!0},blur:function(t){this.focused=!1}},props:{product:{type:Object,required:!0}},components:{vCalculator:T}},F=q,L=(a("c211"),a("8b3e"),Object(v["a"])(F,$,y,!1,null,"325e97a8",null)),M=L.exports,B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"navbar"},[a("div",{staticClass:"search"},[a("v-search-icon"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{placeholder:"Найти"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})],1),a("div",{staticClass:"sort"},t._l(t.sort,(function(e){return a("div",{staticClass:"sort-item",class:{active:t.active.name==e.name&&t.active.direction==e.direction},on:{click:function(a){t.active=e}}},[a("div",{staticClass:"sort-item-ok"},[a("v-icon-ok")],1),t._v(t._s(e.title))])})),0)])},D=[],J=(a("841c"),a("cbb2")),W={data:function(t){var e=t.$store;return{search:e.state.catalog.server.search,sort:[{title:"По популярности",name:"popularity",direction:-1},{title:"Сначала дешевле",name:"price",direction:1},{title:"Сначала дороже",name:"price",direction:-1},{title:"От А до Я",name:"name",direction:1},{title:"От Я до А",name:"name",direction:-1}]}},computed:{active:{get:function(){return this.$store.state.catalog.server.sort},set:function(t){var e=t.name,a=t.direction;this.$store.dispatch("catalog/setFilter",{name:"setSort",payload:{name:e,direction:a}})}}},watch:{search:function(t){var e=this;this.$store.dispatch("catalog/setLoading",!0),setTimeout((function(){t==e.search&&e.$store.dispatch("catalog/setFilter",{name:"setSearch",payload:t})}),1e3)}},components:{vSearchIcon:J["a"]}},G=W,K=(a("91a7"),Object(v["a"])(G,B,D,!1,null,"f140a0c0",null)),X=K.exports,z={computed:{products:function(){return this.$store.getters["catalog/show"]},length:function(){return this.products.length/3},masonry:function(){var t=[[],[],[]];for(var e in this.products)t[e%3].push(e);return t}},components:{vNavbar:X,vProduct:M}},H=z,Q=(a("458f"),Object(v["a"])(H,_,C,!1,null,"e5506cdc",null)),V=Q.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cart"},[a("v-navbar"),a("div",{staticClass:"products"},t._l(t.masonry,(function(e,n){return a("div",{key:n,staticClass:"column"},t._l(e,(function(e){return a("v-product",{key:e,attrs:{product:t.cart[e]}})})),1)})),0),t.cart.length>0?a("div",{staticClass:"buy"},[a("div",{staticClass:"count"},[t._v("Кол-во наименований: "+t._s(t.$store.getters["catalog/cartCount"]))]),a("div",{staticClass:"sum"},[t._v("Итого: "+t._s(t.$store.getters["catalog/sum"])+" руб")]),t._m(0)]):t._e()],1)},Z=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"btn"},[a("span",[t._v("Оформить заказ")])])}],tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"navbar"},[a("div",{staticClass:"title"},[t._v("Корзина"),a("v-icon-cart")],1)])},et=[],at=(a("d7f3"),{}),nt=Object(v["a"])(at,tt,et,!1,null,"119ae82d",null),it=nt.exports,rt={data:function(){return{height:0}},components:{vNavbar:it,vProduct:M},computed:{cart:function(){return this.$store.getters["catalog/cart"]},masonry:function(){var t=[[],[]];for(var e in this.cart)t[e%2].push(e);return t}}},ct=rt,st=(a("aa16"),a("b3e0"),Object(v["a"])(ct,Y,Z,!1,null,"1dab82e0",null)),ot=st.exports,ut={beforeCreate:function(){this.$store.getters["catalog/loaded"]||this.$store.dispatch("catalog/load")},components:{vCategories:b,vList:V,vCart:ot}},lt=ut,dt=(a("cb9f"),Object(v["a"])(lt,n,i,!1,null,"1b365ee6",null));e["default"]=dt.exports},a15b:function(t,e,a){"use strict";var n=a("23e7"),i=a("44ad"),r=a("fc6a"),c=a("a640"),s=[].join,o=i!=Object,u=c("join",",");n({target:"Array",proto:!0,forced:o||!u},{join:function(t){return s.call(r(this),void 0===t?",":t)}})},a640:function(t,e,a){"use strict";var n=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&n((function(){a.call(null,e||function(){throw 1},1)}))}},aa16:function(t,e,a){"use strict";var n=a("8174"),i=a.n(n);i.a},af03:function(t,e,a){var n=a("d039");t.exports=function(t){return n((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},b3e0:function(t,e,a){"use strict";var n=a("29a1"),i=a.n(n);i.a},c211:function(t,e,a){"use strict";var n=a("f49c"),i=a.n(n);i.a},cb9f:function(t,e,a){"use strict";var n=a("3a74"),i=a.n(n);i.a},d21e:function(t,e,a){},d7f3:function(t,e,a){"use strict";var n=a("3a60"),i=a.n(n);i.a},dcda:function(t,e,a){"use strict";var n=a("f908"),i=a.n(n);i.a},f49c:function(t,e,a){},f4f2:function(t,e,a){},f523:function(t,e,a){"use strict";var n=a("5510"),i=a.n(n);i.a},f908:function(t,e,a){},ff4f:function(t,e,a){}}]);
//# sourceMappingURL=chunk-c29711e2.e54164c1.js.map